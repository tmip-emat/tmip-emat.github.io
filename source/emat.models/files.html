

<!DOCTYPE html>
<html class="writer-html4" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Files-Based Model &mdash; TMIP-EMAT 0.5.2, March 2021 documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/tmip_emat.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/jupyter-sphinx.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/thebelab.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/thebelab-helper.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.20.0/dist/embed-amd.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Writing and Using a Bespoke Model Interface" href="interface-walkthrough.html" />
    <link rel="prev" title="Excel-Based Models" href="excel.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> TMIP-EMAT
          

          
          </a>

          
            
            
              <div class="version">
                0.5.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../emat.intro.html">Introduction to EMAT</a></li>
<li class="toctree-l1"><a class="reference internal" href="../emat.install.html">Installation and Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../emat.scope/index.html">Exploratory Scoping</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Core Models</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="abstract.html">Basic EMAT Model API</a></li>
<li class="toctree-l2"><a class="reference internal" href="python_based.html">Python-Based Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="excel.html">Excel-Based Models</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Files-Based Model</a><ul>
<li class="toctree-l3"><a class="reference internal" href="interface-walkthrough.html">Writing and Using a Bespoke Model Interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="table_parse_example.html">TableParser Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="mapping_parse_example.html">MappingParser Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="files-api.html">Files-Based Model API</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="gbnrtc.html">GBNRTC Model</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../emat.metamodels/index.html">Meta Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="../emat.database/index.html">Databases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../emat.analysis/index.html">Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../emat.examples/index.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../emat.glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../emat.references.html">References</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">TMIP-EMAT</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="index.html">Core Models</a> &raquo;</li>
        
      <li>Files-Based Model</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/source/emat.models/files.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p>This is <strong>DRAFT</strong> documentation under development.  The interfaces
documented are shown for illustration and are not guaranteed to be stable 
in future releases of TMIP-EMAT.</p>
<p class="last">The views expressed in this draft documentation do not necessarily 
represent the opinions of FHWA, and do not constitute an endorsement, 
recommendation, or specification by FHWA.</p>
</div>
<div class="section" id="files-based-model">
<h1>Files-Based Model<a class="headerlink" href="#files-based-model" title="Permalink to this headline">¶</a></h1>
<p>You can connect any bespoke transportation model to TMIP-EMAT as long
as it satisfies these requirements:</p>
<ul class="simple">
<li>You can prepare a model run by manipulating files from within Python,
including tasks such as copying or renaming files, editing the text
of script or configuration files, or executing one or more “command line”
programs (e.g. batch files) with defined arguments.</li>
<li>You can execute a model run, including any necessary post-processing,
either directly from Python, or by executing one or more “command line”
programs (e.g. batch files) with defined arguments.</li>
<li>You can extract individual performance measures of interest by reading
and parsing one or more output files (which can be output from the main
model or any post-processing routines) from within Python.</li>
</ul>
<p>The ability to tap into other programs via the command line allows TMIP-EMAT
to be used with nearly any transportation modeling tool, including most
commercial software.</p>
<p>To actually create the linkage between TMIP-EMAT and your bespoke transportation
model, you must define a new Python <cite>class</cite> that derives from the
<a class="reference internal" href="files-api.html#emat.model.FilesCoreModel" title="emat.model.FilesCoreModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">FilesCoreModel</span></code></a> class, and at a minimum write implementations for
these methods:</p>
<ul class="simple">
<li><a class="reference internal" href="abstract.html#emat.model.AbstractCoreModel.setup" title="emat.model.AbstractCoreModel.setup"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AbstractCoreModel.setup()</span></code></a></li>
<li><a class="reference internal" href="abstract.html#emat.model.AbstractCoreModel.run" title="emat.model.AbstractCoreModel.run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AbstractCoreModel.run()</span></code></a></li>
<li><a class="reference internal" href="abstract.html#emat.model.AbstractCoreModel.archive" title="emat.model.AbstractCoreModel.archive"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AbstractCoreModel.archive()</span></code></a></li>
</ul>
<p>The <a class="reference internal" href="files-api.html#emat.model.FilesCoreModel" title="emat.model.FilesCoreModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">FilesCoreModel</span></code></a> class also includes default implementations for
<cite>get_experiment_archive_path</cite> and <cite>post_process</cite>, but it may be appropriate
to overload these methods into a custom class as well.</p>
<p>A walk-through for building and using a <a class="reference internal" href="files-api.html#emat.model.FilesCoreModel" title="emat.model.FilesCoreModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">FilesCoreModel</span></code></a> subclass
in your own module is provided below, although with a more detailed
reference for the methods defined for the <a class="reference internal" href="files-api.html#emat.model.FilesCoreModel" title="emat.model.FilesCoreModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">FilesCoreModel</span></code></a> class.</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="interface-walkthrough.html">Writing and Using a Bespoke Model Interface</a><ul>
<li class="toctree-l2"><a class="reference internal" href="interface-walkthrough.html#Connecting-to-the-Model">Connecting to the Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="interface-walkthrough.html#Understanding-Directories">Understanding Directories</a></li>
<li class="toctree-l2"><a class="reference internal" href="interface-walkthrough.html#Single-Run-Operation-for-Development-and-Debugging">Single Run Operation for Development and Debugging</a><ul>
<li class="toctree-l3"><a class="reference internal" href="interface-walkthrough.html#setup">setup</a></li>
<li class="toctree-l3"><a class="reference internal" href="interface-walkthrough.html#run">run</a></li>
<li class="toctree-l3"><a class="reference internal" href="interface-walkthrough.html#post-process">post-process</a></li>
<li class="toctree-l3"><a class="reference internal" href="interface-walkthrough.html#load-measures">load-measures</a></li>
<li class="toctree-l3"><a class="reference internal" href="interface-walkthrough.html#archive">archive</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="interface-walkthrough.html#Normal-Operation-for-Running-Multiple-Experiments">Normal Operation for Running Multiple Experiments</a><ul>
<li class="toctree-l3"><a class="reference internal" href="interface-walkthrough.html#Re-running-Failed-Experiments">Re-running Failed Experiments</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="interface-walkthrough.html#Multiprocessing-for-Running-Multiple-Experiments">Multiprocessing for Running Multiple Experiments</a><ul>
<li class="toctree-l3"><a class="reference internal" href="interface-walkthrough.html#Running-a-Subset-of-Experiments-Manually">Running a Subset of Experiments Manually</a></li>
<li class="toctree-l3"><a class="reference internal" href="interface-walkthrough.html#Automatic-Multiprocessing-for-Running-Multiple-Experiments">Automatic Multiprocessing for Running Multiple Experiments</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="table_parse_example.html">TableParser Example</a><ul>
<li class="toctree-l2"><a class="reference internal" href="table_parse_example.html#Parsing-a-Labeled-Table">Parsing a Labeled Table</a></li>
<li class="toctree-l2"><a class="reference internal" href="table_parse_example.html#Parsing-Labeled-Values">Parsing Labeled Values</a></li>
<li class="toctree-l2"><a class="reference internal" href="table_parse_example.html#id1">Parsing Labeled Values</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="mapping_parse_example.html">MappingParser Example</a><ul>
<li class="toctree-l2"><a class="reference internal" href="mapping_parse_example.html#Parsing-a-YAML-File">Parsing a YAML File</a></li>
<li class="toctree-l2"><a class="reference internal" href="mapping_parse_example.html#Parsing-a-JSON-File">Parsing a JSON File</a></li>
<li class="toctree-l2"><a class="reference internal" href="mapping_parse_example.html#Parsing-other-File-Formats">Parsing other File Formats</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="files-api.html">Files-Based Model API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="files-api.html#parsing-files">Parsing Files</a></li>
</ul>
</li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="interface-walkthrough.html" class="btn btn-neutral float-right" title="Writing and Using a Bespoke Model Interface" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="excel.html" class="btn btn-neutral float-left" title="Excel-Based Models" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>