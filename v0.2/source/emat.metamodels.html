

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Meta-Models &mdash; TMIP-EMAT 0.2.5, May 2019 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script type="text/javascript" src="https://unpkg.com/@jupyter-widgets/html-manager@^0.18.0/dist/embed-amd.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/tmip_emat.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Databases" href="emat.database/index.html" />
    <link rel="prev" title="GBNRTC Model" href="emat.models/gbnrtc.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> TMIP-EMAT
          

          
          </a>

          
            
            
              <div class="version">
                0.2.5
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="emat.intro.html">Introduction to EMAT</a></li>
<li class="toctree-l1"><a class="reference internal" href="emat.install.html">Installation and Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="emat.scope/index.html">Exploratory Scoping</a></li>
<li class="toctree-l1"><a class="reference internal" href="emat.models/index.html">Core Models</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Meta-Models</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#meta-model-regression">Meta-Model Regression</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="emat.database/index.html">Databases</a></li>
<li class="toctree-l1"><a class="reference internal" href="emat.analysis/index.html">Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="emat.examples/index.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="emat.glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="emat.references.html">References</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">TMIP-EMAT</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Meta-Models</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/source/emat.metamodels.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast,
.nboutput.nblast {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast + .nbinput {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p>This is <strong>DRAFT</strong> documentation under development.  The interfaces
documented are shown for illustration and are not guaranteed to be stable 
in future releases of TMIP-EMAT.</p>
<p class="last">The views expressed in this draft documentation do not necessarily 
represent the opinions of FHWA, and do not constitute an endorsement, 
recommendation, or specification by FHWA.</p>
</div>
<div class="section" id="meta-models">
<h1>Meta-Models<a class="headerlink" href="#meta-models" title="Permalink to this headline">¶</a></h1>
<p>The <a class="reference internal" href="#emat.MetaModel" title="emat.MetaModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">MetaModel</span></code></a> wraps the code required for automatically implementing
metamodels.  The resulting object is callable in the expected manner for a
PythonCoreModel (i.e., accepting keyword arguments to set inputs, and returning
a dictionary of named performance measure outputs).</p>
<dl class="class">
<dt id="emat.MetaModel">
<em class="property">class </em><code class="descclassname">emat.</code><code class="descname">MetaModel</code><span class="sig-paren">(</span><em>input_sample</em>, <em>output_sample</em>, <em>metamodel_types=None</em>, <em>disabled_outputs=None</em>, <em>random_state=None</em>, <em>sample_stratification=None</em>, <em>suppress_converge_warnings=False</em>, <em>regressor=None</em>, <em>use_best_cv=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/emat/model/meta_model.html#MetaModel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#emat.MetaModel" title="Permalink to this definition">¶</a></dt>
<dd><p>A gaussian process regression-based meta-model.</p>
<p>The MetaModel is a callable object that provides an EMA Workbench standard
python interface, taking keyword arguments for parameters and returning a python
dictionary of named outcomes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>input_sample</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.25.1)"><em>pandas.DataFrame</em></a>) – A set of experimental parameters, where
each row in the dataframe is an experiment that has already been evaluated
using the core model.  Each column will be a required keyword parameter
when calling this meta-model.</li>
<li><strong>output_sample</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.25.1)"><em>pandas.DataFrame</em></a>) – A set of experimental performance measures, where
each row in the dataframe is the results of the experiment evaluated using the
core model.  Each column of this dataframe will be a named output value
in the returned dictionary from calling this meta-model.</li>
<li><strong>metamodel_types</strong> (<em>Mapping</em><em>, </em><em>optional</em>) – <p>If given, the keys of this mapping should
include a subset of the columns in <cite>output_sample</cite>, and the values indicate
the metamodel type for each performance measure, given as <cite>str</cite>.  Available
metamodel types include:</p>
<ul>
<li><em>log</em>: The natural log of the performance measure is taken before
fitting the regression model.  This is appropriate only when the performance
measure will always give a strictly positive outcome. If the performance
measure can take on non-positive values, this may result in errors.</li>
<li><em>log1p</em>: The natural log of 1 plus the performance measure is taken before
fitting the regression model.  This is preferred to log-linear when the
performance measure is only guaranteed to be non-negative, rather than
strictly positive.</li>
<li><em>logxp(X)</em>: The natural log of X plus the performance measure is taken before
fitting the regression model.  This allows shifting the position of the
regression intercept to a point other than 0.</li>
<li><em>clip(LO,HI)</em>: A linear model is used, but results are truncated to the range
(LO,HI). Set either value as None to have a one-sided truncation range.</li>
<li><em>linear</em>: No transforms are made.  This is the default when a performance
measure is not included in <cite>metamodel_types</cite>.</li>
</ul>
</li>
<li><strong>disabled_outputs</strong> (<em>Collection</em><em>, </em><em>optional</em>) – A collection of disabled outputs. All names
included in this collection will be returned in the resulting outcomes dictionary
when this meta-model is evaluated, but with a value of <cite>None</cite>.  It is valid to
include names in <cite>disabled_outputs</cite> that are included in the columns
of <cite>output_sample</cite>, although the principal use of this argument is to include
names that are <em>not</em> included, as disabling outputs that are included will not
prevent these values from being included in the computational process.</li>
<li><strong>random_state</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>, </em><em>optional</em>) – A random state, passed to the created regression
(but only if that regressor includes a ‘random_state’ parameter).</li>
<li><strong>regressor</strong> (<em>Estimator</em><em>, </em><em>optional</em>) – A scikit-learn estimator implementing a
multi-target regression.  If not given, a detrended simple Gaussian
process regression is used.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="emat.MetaModel.__call__">
<code class="descname">__call__</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/emat/model/meta_model.html#MetaModel.__call__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#emat.MetaModel.__call__" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate the meta-model.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>**kwargs</strong> – All defined (meta)model parameters are passed as keyword
arguments, including both uncertainties and levers.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A single dictionary containing all performance measure outcomes.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#dict" title="(in Python v3.7)">dict</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="emat.MetaModel.compute_std">
<code class="descname">compute_std</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/emat/model/meta_model.html#MetaModel.compute_std"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#emat.MetaModel.compute_std" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate standard deviations of estimates generated by the meta-model.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.25.1)"><em>pandas.DataFrame</em></a><em>, </em><em>optional</em>) – </li>
<li><strong>**kwargs</strong> – All defined (meta)model parameters are passed as keyword
arguments, including both uncertainties and levers.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A single dictionary containing the standard deviaition of the
estimate of all performance measure outcomes.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#dict" title="(in Python v3.7)">dict</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="emat.MetaModel.cross_val_predicts">
<code class="descname">cross_val_predicts</code><span class="sig-paren">(</span><em>cv=5</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/emat/model/meta_model.html#MetaModel.cross_val_predicts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#emat.MetaModel.cross_val_predicts" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate cross validated predictions using this meta-model.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cv</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>, </em><em>default 5</em>) – The number of folds to use in
cross-validation. Set to zero for leave-one-out
(i.e., the maximum number of folds), which may be
quite slow.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The cross-validated predictions.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.25.1)">pandas.DataFrame</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="emat.MetaModel.cross_val_scores">
<code class="descname">cross_val_scores</code><span class="sig-paren">(</span><em>cv=5</em>, <em>gpr_only=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/emat/model/meta_model.html#MetaModel.cross_val_scores"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#emat.MetaModel.cross_val_scores" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the cross validation scores for this meta-model.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>cv</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>, </em><em>default 5</em>) – The number of folds to use in
cross-validation.</li>
<li><strong>gpr_only</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>, </em><em>default False</em>) – Whether to limit the
cross-validation analysis to only the GPR step (i.e.,
to measure the improvement in meta-model fit from
using the GPR-based meta-model, over and above
using the linear regression meta-model alone.)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The cross-validation scores, by output.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v0.25.1)">pandas.Series</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="emat.MetaModel.get_length_scales">
<code class="descname">get_length_scales</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/emat/model/meta_model.html#MetaModel.get_length_scales"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#emat.MetaModel.get_length_scales" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the length scales from the GPR kernels of this metamodel.</p>
<p>This MetaModel must already be <cite>fit</cite> to use this method, although
the fit process is generally completed when the MetaModel is
instantiated.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The columns correspond to the columns of pre-processed
input (not raw input) and the rows correspond to the
outputs.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.25.1)">pandas.DataFrame</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="emat.MetaModel.mix_length_scales">
<code class="descname">mix_length_scales</code><span class="sig-paren">(</span><em>balance=None</em>, <em>inv=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/emat/model/meta_model.html#MetaModel.mix_length_scales"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#emat.MetaModel.mix_length_scales" title="Permalink to this definition">¶</a></dt>
<dd><p>Mix the length scales from the GPR kernels of this metamodel.</p>
<p>This MetaModel must already be <cite>fit</cite> to use this method, although
the fit process is generally completed when the MetaModel is
instantiated.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>balance</strong> (<em>Mapping</em><em> or </em><em>Collection</em><em>, </em><em>optional</em>) – When given as a mapping, the keys are the output measures
that are included in the mix, and the values are the
relative weights to use for mixing.
When given as a collection, the items are the output
measures that are included in the mix, all with equal
weight.</li>
<li><strong>inv</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>, </em><em>default True</em>) – Take the inverse of the length scales before mixing.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The columns correspond to the columns of pre-processed
input (not raw input) and the rows correspond to the
outputs.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">ndarray</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="emat.MetaModel.pick_new_experiments">
<code class="descname">pick_new_experiments</code><span class="sig-paren">(</span><em>possible_experiments</em>, <em>batch_size</em>, <em>output_focus=None</em>, <em>scope: emat.scope.scope.Scope = None</em>, <em>db: emat.database.database.Database = None</em>, <em>design_name: str = None</em>, <em>debug=None</em>, <em>future_experiments=None</em>, <em>future_experiments_std=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/emat/model/meta_model.html#MetaModel.pick_new_experiments"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#emat.MetaModel.pick_new_experiments" title="Permalink to this definition">¶</a></dt>
<dd><p>Select a set of new experiments to perform from a pool of candidates.</p>
<p>This method implements the “maximin” approach described by Johnson et al (1990),
as proposed for batch-sequential augmentation of designs by Loeppky et al (2010).
New experiments are selected from a pool of possible new experiments by
maximizing the minimum distance between the set of selected experiments,
with distances between experiments scaled by the correlation parameters
from a GP regression fitted to the initial experimental results. Note that
the “binning” aspect of Loeppky is not presently implemented here,
instead favoring the analyst’s capability to manually focus the new experiments
by manipulating the input <cite>possible_experiments</cite>.</p>
<p>We also extend Loeppky et al by allowing for multiple output models, mixing the
results from a selected set of outputs, to potentially focus the information
from the new experiments on a subset of output measures.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>possible_experiments</strong> – A pool of possible experiments.  All selected experiments will
be selected from this pool, so the pool should be sufficiently
large and diverse to provide requried support for this process.</li>
<li><strong>batch_size</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – How many experiments to select from <cite>possible_experiments</cite>.</li>
<li><strong>output_focus</strong> (<em>Mapping</em><em> or </em><em>Collection</em><em>, </em><em>optional</em>) – A subset of output measures that will be the focus of these new
experiments. The length scales of these measures will be mixed
when developing relative weights.</li>
<li><strong>scope</strong> (<a class="reference internal" href="emat.scope/scope.html#emat.Scope" title="emat.Scope"><em>Scope</em></a><em>, </em><em>optional</em>) – The exploratory scope to use for writing the
design to a database. Ignored unless <cite>db</cite> is also given.</li>
<li><strong>db</strong> (<a class="reference internal" href="emat.database/abstract.html#emat.database.Database" title="emat.database.Database"><em>Database</em></a><em>, </em><em>optional</em>) – If provided, this design will be stored in the
database indicated.  Ignored unless <cite>scope</cite> is also given.</li>
<li><strong>design_name</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>optional</em>) – A name for this design, to identify it in the
database. If not given, a unique name will be generated.  Has no effect
if no <cite>db</cite> or <cite>scope</cite> is given.</li>
<li><strong>debug</strong> (<em>Tuple</em><em>[</em><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>,</em><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>]</em><em>, </em><em>optional</em>) – The names of x and y axis to plot for
debugging.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A subset of rows from <cite>possible_experiments</cite></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.25.1)">pandas.DataFrame</a></p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">References</p>
<dl class="docutils">
<dt>Johnson, M.E., Moore, L.M., and Ylvisaker, D., 1990. “Minimax and maximin</dt>
<dd>distance designs.” Journal of Statistical Planning and Inference 26, 131–148.</dd>
<dt>Loeppky, J., Moore, L., and Williams, B.J., 2010. “Batch sequential designs</dt>
<dd>for computer experiments.” Journal of Statistical Planning and Inference 140,
1452–1464.</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="emat.MetaModel.predict">
<code class="descname">predict</code><span class="sig-paren">(</span><em>*args</em>, <em>trend_only=False</em>, <em>residual_only=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/emat/model/meta_model.html#MetaModel.predict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#emat.MetaModel.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate predictions using the meta-model.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.25.1)"><em>pandas.DataFrame</em></a><em>, </em><em>optional</em>) – </li>
<li><strong>residual_only</strong> (<em>trend_only</em><em>,</em>) – </li>
<li><strong>**kwargs</strong> – All defined (meta)model parameters are passed as keyword
arguments, including both uncertainties and levers.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A single dictionary containing the standard deviaition of the
estimate of all performance measure outcomes.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#dict" title="(in Python v3.7)">dict</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="emat.MetaModel.preprocess_raw_input">
<code class="descname">preprocess_raw_input</code><span class="sig-paren">(</span><em>df</em>, <em>to_type=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/emat/model/meta_model.html#MetaModel.preprocess_raw_input"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#emat.MetaModel.preprocess_raw_input" title="Permalink to this definition">¶</a></dt>
<dd><p>Preprocess raw data input.</p>
<p>This convenience method provides batch-processing of a
raw data input DataFrame into the format used for regression.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.25.1)"><em>pandas.DataFrame</em></a>) – The raw input data to process, which can include input
values for multiple experiments.</li>
<li><strong>to_type</strong> (<em>dtype</em><em>, </em><em>optional</em>) – If given, the entire resulting DataFrame is cast to
this data type.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">pandas.DataFrame</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<p>MetaModels can be created directly from other core models using the
<a class="reference internal" href="emat.models/abstract.html#emat.model.AbstractCoreModel.create_metamodel_from_design" title="emat.model.AbstractCoreModel.create_metamodel_from_design"><code class="xref py py-meth docutils literal notranslate"><span class="pre">create_metamodel_from_design</span></code></a>
or <a class="reference internal" href="emat.models/abstract.html#emat.model.AbstractCoreModel.create_metamodel_from_data" title="emat.model.AbstractCoreModel.create_metamodel_from_data"><code class="xref py py-meth docutils literal notranslate"><span class="pre">create_metamodel_from_data</span></code></a>
methods of a core model, or by using the <code class="xref py py-func docutils literal notranslate"><span class="pre">create_metamodel()</span></code> function, which can
create a MetaModel directly from a scope and experimental results, without requiring
a core model instance.  Each of these functions returns a <code class="xref py py-class docutils literal notranslate"><span class="pre">PythonCoreModel</span></code> that
already wraps the MetaModel in an interface ready for use with other TMIP-EMAT tools.</p>
<div class="section" id="meta-model-regression">
<h2>Meta-Model Regression<a class="headerlink" href="#meta-model-regression" title="Permalink to this headline">¶</a></h2>
<p>TMIP-EMAT currently implements meta-modeling by default using a de-trended multi-target
Gaussian process regression model.  The contents of this meta-model is provided
transparently for inspection and review as desired, and documention is provided
here to facilitate this.  However, future version of TMIP-EMAT may introduce
more sophisticated meta-models, and code to utilize meta-models should not
rely on the underlying regression model itself.</p>
<dl class="class">
<dt id="emat.multitarget.DetrendedMultipleTargetRegression">
<em class="property">class </em><code class="descclassname">emat.multitarget.</code><code class="descname">DetrendedMultipleTargetRegression</code><span class="sig-paren">(</span><em>standardize_before_fit=True</em>, <em>n_restarts_optimizer=250</em>, <em>copy_X_train=True</em>, <em>random_state=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/emat/multitarget/simple.html#DetrendedMultipleTargetRegression"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#emat.multitarget.DetrendedMultipleTargetRegression" title="Permalink to this definition">¶</a></dt>
<dd><p>Multi-target de-trended Gaussian process regression (GPR).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>standardize_before_fit</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>, </em><em>optional</em><em> (</em><em>default: True</em><em>)</em>) – Whether to rescale the columns of Y to have unit variance
before fitting.  This may improve performance.  The standardization
is inverted on prediction, so that predictions are still properly
scaled.</li>
<li><strong>n_restarts_optimizer</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>, </em><em>optional</em><em> (</em><em>default: 0</em><em>)</em>) – The number of restarts of the optimizer for finding the kernel’s
parameters which maximize the log-marginal likelihood. The first run
of the optimizer is performed from the kernel’s initial parameters,
the remaining ones (if any) from thetas sampled log-uniform randomly
from the space of allowed theta-values. If greater than 0, all bounds
must be finite. Note that n_restarts_optimizer == 0 implies that one
run is performed.</li>
<li><strong>copy_X_train</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>, </em><em>optional</em><em> (</em><em>default: True</em><em>)</em>) – If True, a persistent copy of the training data is stored in the
object. Otherwise, just a reference to the training data is stored,
which might cause predictions to change if the data is modified
externally.</li>
<li><strong>random_state</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>, </em><em>RandomState instance</em><em> or </em><a class="reference external" href="https://docs.python.org/3.7/library/constants.html#None" title="(in Python v3.7)"><em>None</em></a><em>, </em><em>optional</em><em> (</em><em>default: None</em><em>)</em>) – The generator used to initialize the centers. If int, random_state is
the seed used by the random number generator; If RandomState instance,
random_state is the random number generator; If None, the random number
generator is the RandomState instance used by <cite>np.random</cite>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="emat.multitarget.DetrendedMultipleTargetRegression.lr">
<code class="descname">lr</code><a class="headerlink" href="#emat.multitarget.DetrendedMultipleTargetRegression.lr" title="Permalink to this definition">¶</a></dt>
<dd><p>The de-trending linear regression model.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">LinearRegression</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="method">
<dt id="emat.multitarget.DetrendedMultipleTargetRegression.fit">
<code class="descclassname">DetrendedMultipleTargetRegression.</code><code class="descname">fit</code><span class="sig-paren">(</span><em>X</em>, <em>Y</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/emat/multitarget/simple.html#DetrendedMultipleTargetRegression.fit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#emat.multitarget.DetrendedMultipleTargetRegression.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit a multi-target linear and gaussian regression model.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>X</strong> (<em>array-like</em><em> or </em><em>sparse matrix of shape</em><em> [</em><em>n_samples</em><em>, </em><em>n_features</em><em>]</em>) – Training data</li>
<li><strong>Y</strong> (<em>array-like of shape</em><em> [</em><em>n_samples</em><em>, </em><em>n_targets</em><em>]</em>) – Target values.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>self</strong> – Returns an instance of self, the the sklearn standard practice.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#emat.multitarget.DetrendedMultipleTargetRegression" title="emat.multitarget.DetrendedMultipleTargetRegression">DetrendedMultipleTargetRegression</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="emat.multitarget.DetrendedMultipleTargetRegression.predict">
<code class="descclassname">DetrendedMultipleTargetRegression.</code><code class="descname">predict</code><span class="sig-paren">(</span><em>X</em>, <em>return_std=False</em>, <em>return_cov=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/emat/multitarget/simple.html#DetrendedMultipleTargetRegression.predict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#emat.multitarget.DetrendedMultipleTargetRegression.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Predict using the model</p>
<p>This function will return a pandas DataFrame instead of
a simple numpy array if there is information available
to populate the index (if the X argument to this function
is a DataFrame) or the columns (if the Y argument to <cite>fit</cite>
was a DataFrame).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>X</strong> (<em>{array-like</em><em>, </em><em>sparse matrix}</em><em>, </em><em>shape =</em><em> (</em><em>n_samples</em><em>, </em><em>n_features</em><em>)</em>) – Samples.</li>
<li><strong>return_cov</strong> (<em>return_std</em><em>,</em>) – Not implemented.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>C</strong> – Returns predicted values. The n_targets dimension is
determined in the <cite>fit</cite> method.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">array-like, shape = (n_samples, n_targets)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="emat.multitarget.DetrendedMultipleTargetRegression.detrend_predict">
<code class="descclassname">DetrendedMultipleTargetRegression.</code><code class="descname">detrend_predict</code><span class="sig-paren">(</span><em>X</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/emat/multitarget/simple.html#DetrendedMultipleTargetRegression.detrend_predict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#emat.multitarget.DetrendedMultipleTargetRegression.detrend_predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Predict using the only the detrending linear regression model</p>
<p>This function will return a pandas DataFrame instead of
a simple numpy array if there is information available
to populate the index (if the X argument to this function
is a DataFrame) or the columns (if the Y argument to <cite>fit</cite>
was a DataFrame).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>X</strong> (<em>{array-like</em><em>, </em><em>sparse matrix}</em><em>, </em><em>shape =</em><em> (</em><em>n_samples</em><em>, </em><em>n_features</em><em>)</em>) – Samples.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>C</strong> – Returns predicted values. The n_targets dimension is
determined in the <cite>fit</cite> method.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">array-like, shape = (n_samples, n_targets)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="emat.multitarget.DetrendedMultipleTargetRegression.residual_predict">
<code class="descclassname">DetrendedMultipleTargetRegression.</code><code class="descname">residual_predict</code><span class="sig-paren">(</span><em>X</em>, <em>return_std=False</em>, <em>return_cov=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/emat/multitarget/simple.html#DetrendedMultipleTargetRegression.residual_predict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#emat.multitarget.DetrendedMultipleTargetRegression.residual_predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Predict using the only the Gaussian regression model</p>
<p>This function will return a pandas DataFrame instead of
a simple numpy array if there is information available
to populate the index (if the X argument to this function
is a DataFrame) or the columns (if the Y argument to <cite>fit</cite>
was a DataFrame).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>X</strong> (<em>{array-like</em><em>, </em><em>sparse matrix}</em><em>, </em><em>shape =</em><em> (</em><em>n_samples</em><em>, </em><em>n_features</em><em>)</em>) – Samples.</li>
<li><strong>return_cov</strong> (<em>return_std</em><em>,</em>) – Not implemented.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>C</strong> – Returns predicted values. The n_targets dimension is
determined in the <cite>fit</cite> method.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">array-like, shape = (n_samples, n_targets)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="emat.multitarget.DetrendedMultipleTargetRegression.cross_val_scores">
<code class="descclassname">DetrendedMultipleTargetRegression.</code><code class="descname">cross_val_scores</code><span class="sig-paren">(</span><em>X</em>, <em>Y</em>, <em>cv=5</em>, <em>S=None</em><span class="sig-paren">)</span><a class="headerlink" href="#emat.multitarget.DetrendedMultipleTargetRegression.cross_val_scores" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the cross validation scores for this model.</p>
<p>Unlike other scikit-learn scores, this method returns
a separate score value for each output when the estimator
is for a multi-output process.</p>
<p>If the estimator includes a <cite>sample_stratification</cite>
attribute, it is used along with</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>Y</strong> (<em>X</em><em>,</em>) – array-like
The independent and dependent data to use for
cross-validation.</li>
<li><strong>cv</strong> – int, default 5
The number of folds to use in cross-validation.</li>
<li><strong>S</strong> – array-like
The stratification data to use for stratified
cross-validation.  This data must be categorical
(or convertible into such), and should be a
vector of length equal to the first dimension
(i.e. number of observations) in the <cite>X</cite> and <cite>Y</cite>
arrays.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The cross-validation scores, by output.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v0.25.1)">pandas.Series</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="emat.multitarget.DetrendedMultipleTargetRegression.detrend_scores">
<code class="descclassname">DetrendedMultipleTargetRegression.</code><code class="descname">detrend_scores</code><span class="sig-paren">(</span><em>X</em>, <em>Y</em>, <em>sample_weight=None</em><span class="sig-paren">)</span><a class="headerlink" href="#emat.multitarget.DetrendedMultipleTargetRegression.detrend_scores" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the coefficients of determination R^2 of the prediction.</p>
<p>The coefficient <img class="math" src="../_images/math/04795deba2b8ef377e574a90eaa907b273b9ce68.png" alt="R^2"/> is defined as (1 - u/v), where u is the residual
sum of squares ((y_true - y_pred) ** 2).sum() and v is the total
sum of squares ((y_true - y_true.mean()) ** 2).sum().
The best possible score is 1.0 and it can be negative (because the
model can be arbitrarily worse). A constant model that always
predicts the expected value of y, disregarding the input features,
would get a <img class="math" src="../_images/math/04795deba2b8ef377e574a90eaa907b273b9ce68.png" alt="R^2"/> score of 0.0.</p>
<p class="rubric">Notes</p>
<p><img class="math" src="../_images/math/04795deba2b8ef377e574a90eaa907b273b9ce68.png" alt="R^2"/> is calculated by weighting all the targets equally using
<cite>multioutput=’raw_values’</cite>.  See documentation for
sklearn.metrics.r2_score for more information.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>X</strong> (<em>array-like</em><em>, </em><em>shape =</em><em> (</em><em>n_samples</em><em>, </em><em>n_features</em><em>)</em>) – Test samples. For some estimators this may be a
precomputed kernel matrix instead, shape = (n_samples,
n_samples_fitted], where n_samples_fitted is the number of
samples used in the fitting for the estimator.</li>
<li><strong>Y</strong> (<em>array-like</em><em>, </em><em>shape =</em><em> (</em><em>n_samples</em><em>, </em><em>n_outputs</em><em>)</em>) – True values for X.</li>
<li><strong>sample_weight</strong> (<em>array-like</em><em>, </em><em>shape =</em><em> [</em><em>n_samples</em><em>]</em><em>, </em><em>optional</em>) – Sample weights.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>score</strong> – R^2 of self.predict(X) wrt. Y.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">ndarray</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="emat.learn.LinearAndGaussian">
<code class="descclassname">emat.learn.</code><code class="descname">LinearAndGaussian</code><span class="sig-paren">(</span><em>fit_intercept=True</em>, <em>n_jobs=None</em>, <em>stats_on_fit=True</em>, <em>kernel_generator=None</em>, <em>alpha=1e-10</em>, <em>optimizer='fmin_l_bfgs_b'</em>, <em>n_restarts_optimizer=250</em>, <em>normalize_y=False</em>, <em>standardize_before_fit=True</em>, <em>copy_X_train=True</em>, <em>random_state=None</em>, <em>use_cv_predict=False</em>, <em>single_target=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/emat/learn/boosting.html#LinearAndGaussian"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#emat.learn.LinearAndGaussian" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a detrended Gaussian process regressor.</p>
<p>This two stage regressor first fits a simple linear regression
model, then fits a Gaussian process regression on the
<em>residuals</em> of the linear regression.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>fit_intercept</strong> (<em>boolean</em><em>, </em><em>optional</em><em>, </em><em>default True</em>) – Whether to calculate the intercept for the linear
regression step in this model. If set
to False, no intercept will be used in calculations
(e.g. data is expected to be already centered).</li>
<li><strong>n_jobs</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3.7/library/constants.html#None" title="(in Python v3.7)"><em>None</em></a><em>, </em><em>optional</em><em> (</em><em>default=None</em><em>)</em>) – The number of jobs to use for the computation of the linear model.
This will only provide
speedups for n_targets &gt; 1 and sufficiently large problems.
<code class="docutils literal notranslate"><span class="pre">None</span></code> means 1 unless in a <code class="xref py py-obj docutils literal notranslate"><span class="pre">joblib.parallel_backend</span></code> context.
<code class="docutils literal notranslate"><span class="pre">-1</span></code> means using all processors. See <a class="reference external" href="https://scikit-learn.org/stable/glossary.html#term-n-jobs" title="(in scikit-learn v0.21.3)"><span class="xref std std-term">Glossary</span></a>
for more details.</li>
<li><strong>stats_on_fit</strong> (<em>boolean</em><em>, </em><em>optional</em><em>, </em><em>default True</em>) – Whether to calculate a number of statistical measures for the linear
regression model when it is fit, including standard errors and
t-stats for coefficients and R^2 goodness of fit for overall
models.</li>
<li><strong>kernel_generator</strong> (<em>Callable</em><em>, </em><em>optional</em>) – A function that takes the number of input features, and returns
a kernel function to be used in the Gaussian regression model.
See <cite>AnisotropicGaussianProcessRegressor</cite> for details.</li>
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a><em> or </em><em>array-like</em><em>, </em><em>optional</em><em> (</em><em>default: 1e-10</em><em>)</em>) – Value added to the diagonal of the kernel matrix during fitting.
Larger values correspond to increased noise level in the observations.
This can also prevent a potential numerical issue during fitting, by
ensuring that the calculated values form a positive definite matrix.
If an array is passed, it must have the same number of entries as the
data used for fitting and is used as datapoint-dependent noise level.
Note that this is equivalent to adding a WhiteKernel with c=alpha.
Allowing to specify the noise level directly as a parameter is mainly
for convenience and for consistency with Ridge.</li>
<li><strong>optimizer</strong> (<em>string</em><em> or </em><em>callable</em><em>, </em><em>optional</em><em> (</em><em>default: &quot;fmin_l_bfgs_b&quot;</em><em>)</em>) – <p>Can either be one of the internally supported optimizers for optimizing
the kernel’s parameters, specified by a string, or an externally
defined optimizer passed as a callable. If a callable is passed, it
must have the signature:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">optimizer</span><span class="p">(</span><span class="n">obj_func</span><span class="p">,</span> <span class="n">initial_theta</span><span class="p">,</span> <span class="n">bounds</span><span class="p">):</span>
        <span class="c1"># * &#39;obj_func&#39; is the objective function to be minimized, which</span>
        <span class="c1">#   takes the hyperparameters theta as parameter and an</span>
        <span class="c1">#   optional flag eval_gradient, which determines if the</span>
        <span class="c1">#   gradient is returned additionally to the function value</span>
        <span class="c1"># * &#39;initial_theta&#39;: the initial value for theta, which can be</span>
        <span class="c1">#   used by local optimizers</span>
        <span class="c1"># * &#39;bounds&#39;: the bounds on the values of theta</span>
        <span class="o">....</span>
        <span class="c1"># Returned are the best found hyperparameters theta and</span>
        <span class="c1"># the corresponding value of the target function.</span>
        <span class="k">return</span> <span class="n">theta_opt</span><span class="p">,</span> <span class="n">func_min</span>
</pre></div>
</div>
<p>Per default, the ‘fmin_l_bfgs_b’ algorithm from scipy.optimize
is used. If None is passed, the kernel’s parameters are kept fixed.
Available internal optimizers are:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;fmin_l_bfgs_b&#39;</span>
</pre></div>
</div>
</li>
<li><strong>n_restarts_optimizer</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>, </em><em>optional</em><em> (</em><em>default: 0</em><em>)</em>) – The number of restarts of the optimizer for finding the kernel’s
parameters which maximize the log-marginal likelihood. The first run
of the optimizer is performed from the kernel’s initial parameters,
the remaining ones (if any) from thetas sampled log-uniform randomly
from the space of allowed theta-values. If greater than 0, all bounds
must be finite. Note that n_restarts_optimizer == 0 implies that one
run is performed.</li>
<li><strong>normalize_y</strong> (<em>boolean</em><em>, </em><em>optional</em><em> (</em><em>default: False</em><em>)</em>) – Whether the target values y are normalized, i.e., the mean of the
observed target values become zero. This parameter should be set to
True if the target values’ mean is expected to differ considerable from
zero. When enabled, the normalization effectively modifies the GP’s
prior based on the data, which contradicts the likelihood principle;
normalization is thus disabled per default.</li>
<li><strong>standardize_before_fit</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>, </em><em>optional</em><em> (</em><em>default: True</em><em>)</em>) – Whether to standardize by scaling the target values of the Gaussian
regression so they have unit variance.  This is replaces the inclusion
of a scalar term in the kernel function, and may help increase the
stability of results, especially with smaller sized datasets.</li>
<li><strong>copy_X_train</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>, </em><em>optional</em><em> (</em><em>default: True</em><em>)</em>) – If True, a persistent copy of the training data is stored in the
object. Otherwise, just a reference to the training data is stored,
which might cause predictions to change if the data is modified
externally.</li>
<li><strong>random_state</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>, </em><em>RandomState instance</em><em> or </em><a class="reference external" href="https://docs.python.org/3.7/library/constants.html#None" title="(in Python v3.7)"><em>None</em></a><em>, </em><em>optional</em><em> (</em><em>default: None</em><em>)</em>) – The generator used to initialize the centers. If int, random_state is
the seed used by the random number generator; If RandomState instance,
random_state is the random number generator; If None, the random number
generator is the RandomState instance used by <cite>np.random</cite>.</li>
<li><strong>use_cv_predict</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>, </em><em>optional</em><em> (</em><em>default: False</em><em>)</em>) – Whether to use cross-validated predictors to create residuals from the
linear regression during model fitting.</li>
<li><strong>single_target</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>, </em><em>optional</em><em> (</em><em>default: False</em><em>)</em>) – Whether the target values will be a single dimension or multi-dimensional.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">BoostedRegressor</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="emat.database/index.html" class="btn btn-neutral float-right" title="Databases" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="emat.models/gbnrtc.html" class="btn btn-neutral float-left" title="GBNRTC Model" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>